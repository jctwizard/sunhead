[gd_scene load_steps=14 format=3 uid="uid://dwp4xp6fgrla0"]

[ext_resource type="Script" path="res://scripts/world_manager.gd" id="1_tjtmo"]
[ext_resource type="PackedScene" uid="uid://c314281f0wowu" path="res://prefabs/player.tscn" id="2_magrm"]
[ext_resource type="FontFile" uid="uid://dp45wfma7rscj" path="res://fonts/Sniglet-Regular.otf" id="4_n5c6u"]
[ext_resource type="LabelSettings" uid="uid://gcqywswqaqad" path="res://label_settings/info_label_settings.tres" id="4_ut8sv"]
[ext_resource type="Texture2D" uid="uid://cxtm5nqci11n8" path="res://sprites/sling.png" id="5_c3xt1"]
[ext_resource type="Texture2D" uid="uid://bwgcgismfohc2" path="res://sprites/sun-head-bump.png" id="5_u8lhi"]
[ext_resource type="Texture2D" uid="uid://cqrpj57oxyhfp" path="res://sprites/cursor.png" id="6_vv3nu"]
[ext_resource type="Script" path="res://scripts/cursor.gd" id="7_q6d0q"]
[ext_resource type="TileSet" uid="uid://byem6n45ujbeq" path="res://tile_sets/small_tile_set.tres" id="7_rs5cf"]
[ext_resource type="PackedScene" uid="uid://qv5r25xyy3uo" path="res://prefabs/character.tscn" id="10_0hm60"]
[ext_resource type="PackedScene" uid="uid://68ha7v5q7u3" path="res://prefabs/goal.tscn" id="10_14mfh"]

[sub_resource type="LabelSettings" id="LabelSettings_axvns"]
line_spacing = -10.0
font = ExtResource("4_n5c6u")
font_size = 50
font_color = Color(0, 0, 0, 1)

[sub_resource type="GDScript" id="GDScript_10ftn"]
script/source = "extends Label

var current_timer = 0.0

func _process(delta):
	current_timer += delta
	
"

[node name="World" type="Node2D" node_paths=PackedStringArray("timer_label", "score_label", "bumps_label", "spawn", "goals", "camera", "overlay")]
script = ExtResource("1_tjtmo")
timer_label = NodePath("Camera2D/Overlay/TopInfoMargins/Timer")
score_label = NodePath("Camera2D/Overlay/Score")
bumps_label = NodePath("Camera2D/Overlay/TopInfoMargins/BumpsDummy/BumpIcon/Bumps")
spawn = NodePath("Spawn")
goals = [NodePath("Goal")]
player_prefab = ExtResource("2_magrm")
camera = NodePath("Camera2D")
overlay = NodePath("Camera2D/Overlay")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="Overlay" type="ColorRect" parent="Camera2D"]
visible = false
show_behind_parent = true
z_index = -100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 800.0
offset_bottom = 800.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Score" type="Label" parent="Camera2D/Overlay"]
modulate = Color(1, 1, 1, 0.509804)
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -275.0
offset_top = 175.0
offset_right = 275.0
offset_bottom = 291.0
grow_horizontal = 2
size_flags_vertical = 0
text = "score = time + bumps
how low can you go?"
label_settings = SubResource("LabelSettings_axvns")
horizontal_alignment = 1
script = SubResource("GDScript_10ftn")

[node name="ColorRect" type="ColorRect" parent="Camera2D/Overlay/Score"]
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0.658824)

[node name="TopInfoMargins" type="MarginContainer" parent="Camera2D/Overlay"]
z_index = 2
z_as_relative = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="BumpsDummy" type="Label" parent="Camera2D/Overlay/TopInfoMargins"]
layout_mode = 2
size_flags_vertical = 0
text = "
"
label_settings = ExtResource("4_ut8sv")
script = SubResource("GDScript_10ftn")

[node name="BumpIcon" type="TextureRect" parent="Camera2D/Overlay/TopInfoMargins/BumpsDummy"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -25.0
offset_right = 50.0
offset_bottom = 25.0
grow_vertical = 2
texture = ExtResource("5_u8lhi")
expand_mode = 1

[node name="Bumps" type="Label" parent="Camera2D/Overlay/TopInfoMargins/BumpsDummy/BumpIcon"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 50.0
offset_top = -30.5
offset_right = 800.0
offset_bottom = 30.5
grow_vertical = 2
size_flags_vertical = 0
text = "0
"
label_settings = ExtResource("4_ut8sv")
script = SubResource("GDScript_10ftn")

[node name="Timer" type="Label" parent="Camera2D/Overlay/TopInfoMargins"]
layout_mode = 2
size_flags_vertical = 0
text = "0.00"
label_settings = ExtResource("4_ut8sv")
horizontal_alignment = 2
script = SubResource("GDScript_10ftn")

[node name="MarginTop" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 100.0
grow_horizontal = 2
color = Color(0, 0, 0, 1)

[node name="MarginLeft" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 100.0
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="MarginRight" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -100.0
grow_horizontal = 0
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="MarginBottom" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -100.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0, 0, 0, 1)

[node name="Sling" type="Sprite2D" parent="."]
z_index = -1
texture = ExtResource("5_c3xt1")

[node name="Cursor" type="Sprite2D" parent="." node_paths=PackedStringArray("camera", "sling")]
z_index = 2
scale = Vector2(0.35, 0.35)
texture = ExtResource("6_vv3nu")
script = ExtResource("7_q6d0q")
camera = NodePath("../Camera2D")
sling = NodePath("../Sling")

[node name="Spawn" type="Node2D" parent="."]
position = Vector2(575, 375)

[node name="Goal" parent="." instance=ExtResource("10_14mfh")]
position = Vector2(405, -4055)
rotation = -3.18806
scale = Vector2(0.5, 0.5)

[node name="TileMap" type="TileMap" parent="."]
z_index = -1
tile_set = ExtResource("7_rs5cf")
format = 2
layer_0/tile_data = PackedInt32Array(589831, 65557, 1, 655361, 65557, 1, 655362, 21, 4, 655363, 21, 4, 655364, 21, 4, 655365, 21, 4, 655366, 21, 4, 655367, 21, 4, 655368, 21, 4, 720904, 21, 4, 720905, 21, 4, 786441, 21, 4, 786440, 21, 4, 786439, 21, 4, 786438, 21, 4, 851973, 21, 4, 851972, 21, 4, 851971, 21, 4, 851970, 21, 4, 851969, 65557, 1, 786433, 21, 1, 786434, 21, 4, 786435, 21, 4, 786436, 21, 4, 786437, 21, 4, 720902, 21, 4, 720901, 21, 4, 720900, 21, 4, 720899, 21, 4, 720898, 21, 4, 720897, 65557, 1, 720903, 21, 4, 851974, 21, 4, 851975, 21, 4, 851976, 21, 4, 851977, 21, 4, 851978, 21, 4, 851979, 21, 4, 851980, 21, 4, 786444, 21, 4, 720908, 21, 4, 655372, 21, 4, 655370, 21, 4, 655369, 21, 4, 786442, 21, 4, 786443, 21, 4, 720907, 21, 4, 655371, 21, 4, 720906, 21, 4, 655373, 21, 4, 720909, 21, 4, 655374, 65557, 1, 786445, 21, 4, 851981, 21, 4, 917506, 65557, 1, 917505, 65557, 1, 917508, 21, 1, 917509, 21, 1, 917510, 21, 1, 917511, 65557, 1, 917512, 65557, 1, 917513, 65557, 1, 917507, 65557, 1, 917514, 21, 1, 131086, 65557, 1, -524274, 65557, 1, 65541, 65557, 1, 65546, 21, 1, 589825, 21, 1, 524289, 65557, 1, 458753, 65557, 1, 393217, 65557, 1, 327681, 21, 1, 262145, 65557, 1, 196609, 65557, 1, 131073, 65557, 1, 196622, 65557, 1, 262158, 21, 1, 589838, 21, 1, 851982, 65557, 1, 917518, 65557, 1, 917517, 21, 1, 917516, 65557, 1, 917515, 65557, 1, 65538, 65557, 1, 65539, 65557, 1, 65540, 65557, 1, 65547, 65557, 1, 65548, 21, 1, 65549, 21, 1, 65550, 65557, 1, 589827, 21, 1, 589828, 65557, 1, 524292, 21, 1, 458756, 65557, 1, 524295, 21, 1, 589832, 21, 1, 65537, 65557, 1, 589835, 21, 1, 589836, 65557, 1, 458765, 65557, 1, 524301, 21, 1, 589837, 65557, 1, 131077, 65557, 1, 131082, 65557, 1, 5, 65557, 1, -65531, 65557, 1, 1, 65557, 1, -65535, 65557, 1, -131071, 65557, 1, 10, 65557, 1, 14, 65557, 1, -65522, 65557, 1, -131058, 65557, 1, -65534, 21, 4, -65533, 21, 4, -65532, 21, 4, 4, 21, 4, 3, 21, 4, 2, 21, 4, 11, 21, 4, 12, 21, 4, 13, 21, 4, -327674, 262165, 0, -458749, 262165, 0, -589813, 262165, 0, -196594, 65557, 1, -262130, 21, 1, -327666, 21, 1, -393202, 65557, 1, -458738, 65557, 1, -655346, 21, 1, -720882, 21, 1, -720883, 21, 1, -720884, 21, 1, -720885, 65557, 1, -720886, 65557, 1, -720887, 21, 1, -720888, 21, 1, -720893, 65557, 1, -720894, 21, 1, -720895, 21, 1, -655359, 21, 1, -589823, 21, 1, -524287, 21, 1, -458751, 65557, 1, -393215, 65557, 1, -327679, 21, 1, -262143, 21, 1, -196607, 65557, 1, 327694, 21, 1, 393230, 65557, 1, 458766, 65557, 1, 524302, 21, 1, 786446, 21, 4, 720910, 21, 4, 720911, 21, 4, 720912, 21, 4, 720913, 21, 4, 786448, 21, 4, 786447, 21, 4, 851984, 21, 4, 851983, 21, 4, 851985, 21, 4, 851986, 21, 4, 851987, 21, 4, 851988, 21, 4, 851989, 21, 4, 851990, 21, 4, 851991, 21, 4, 786456, 21, 4, 786455, 21, 4, 786454, 21, 4, 786453, 21, 4, 786452, 21, 4, 786451, 21, 4, 786450, 21, 4, 720914, 21, 4, 655379, 21, 4, 655380, 21, 4, 655381, 21, 4, 655382, 21, 1, 655383, 21, 4, 720919, 21, 4, 720920, 21, 4, 720916, 65557, 1, 720915, 21, 4, 589843, 21, 4, 589844, 21, 4, 589846, 65557, 1, 589847, 21, 4, 589848, 21, 4, 655384, 21, 4, 655385, 21, 1, 720921, 21, 1, 720917, 65557, 1, 655378, 21, 4, 589842, 21, 4, 524306, 21, 4, 524307, 21, 4, 524308, 65557, 1, 524309, 21, 1, 524310, 21, 4, 524311, 21, 4, 524312, 21, 4, 589849, 21, 1, 589841, 21, 4, 524305, 21, 4, 458770, 21, 4, 458771, 21, 4, 458772, 21, 4, 458774, 21, 4, 458775, 21, 4, 458776, 21, 4, 327695, 65557, 1, 262159, 65557, 1, 196623, 65557, 1, 131088, 65557, 1, 131087, 65557, 1, 65551, 65557, 1, 65552, 21, 1, 65553, 21, 1, 65554, 21, 1, 196626, 65557, 1, 131090, 21, 1, 131091, 21, 1, 65555, 65557, 1, 131094, 65557, 1, 65558, 65557, 1, 65559, 65557, 1, 65560, 21, 1, 65561, 21, 1, 131097, 65557, 1, 131098, 21, 1, 196634, 21, 1, 196633, 65557, 1, 131096, 65557, 1, 65562, 65557, 1, 917530, 65557, 1, 917529, 65557, 1, 917528, 65557, 1, 917527, 65557, 1, 917526, 65557, 1, 917525, 65557, 1, 917524, 21, 1, 917523, 21, 1, 917522, 65557, 1, 917521, 21, 1, 917520, 65557, 1, 917519, 65557, 1, 851994, 65557, 1, 786458, 21, 1, 720922, 21, 1, 655386, 21, 1, 589850, 21, 1, 524314, 21, 1, 262170, 21, 1, 327706, 21, 1, 393242, 21, 1, 458778, 65557, 1, 655375, 21, 4, 589839, 21, 4, 524303, 21, 4, 458767, 21, 4, 458768, 21, 4, 458769, 21, 4, 589840, 21, 4, 655376, 21, 4, 655377, 21, 4, 458777, 21, 1, 524313, 21, 1, 524304, 21, 4, 786449, 21, 4, 851992, 21, 1, 851993, 21, 1, 786457, 21, 1, 18, 65557, 1, -65512, 65557, 1, 23, 65557, 1, -65519, 65557, 1, -65520, 65557, 1, -131056, 65557, 1, -196592, 65557, 1, -65521, 21, 1, 15, 21, 1, 16, 65557, 1, 17, 21, 1, -131057, 65557, 1, -196593, 65557, 1, -262129, 65557, 1, -262128, 65557, 1, -327663, 65557, 1, -327656, 65557, 1, -262119, 65557, 1, -262118, 65557, 1, -196582, 65557, 1, -131046, 65557, 1, -131047, 65557, 1, -196583, 65557, 1, -65511, 65557, 1, 25, 65557, 1, 24, 65557, 1, -65510, 65557, 1, 26, 65557, 1, -327654, 21, 1, -327655, 65557, 1, -393192, 65557, 1, -458730, 65557, 1, -458731, 65557, 1, -458732, 65557, 1, -458733, 21, 1, -393198, 65557, 1, -327664, 21, 1, -393200, 21, 1, -458736, 65557, 1, -524268, 65557, 1, -393199, 21, 1, -393197, 65557, 1, -458728, 65557, 1, -393191, 65557, 1, -524264, 65557, 1, -196588, 65557, 1, -196587, 21, 1, 196632, 21, 1, 262169, 21, 1, 327705, 21, 1, 393241, 21, 1, 393237, 21, 1, 393238, 21, 1, 327702, 21, 1, 458773, 21, 4, 589845, 21, 4, 720918, 21, 4, -327665, 21, 1, -393201, 21, 1, -458737, 21, 1, -524273, 21, 1, -655345, 21, 1, -720881, 21, 1, -720880, 21, 1, -720879, 21, 1, -720878, 21, 1, -720877, 21, 1, -655341, 21, 1, -655344, 21, 1, -655339, 21, 1, -655338, 21, 1, -655340, 21, 1, -720876, 21, 1, -720875, 21, 1, -720874, 21, 1, -720873, 21, 1, -720872, 21, 1, -655336, 21, 1, -655337, 21, 1, -589802, 21, 1, -589801, 21, 1, -589800, 65557, 1, -589799, 21, 1, -655335, 21, 1, -720871, 21, 1, -720870, 21, 1, -655334, 21, 1, -589798, 21, 1, -524262, 21, 1, -458726, 21, 1, -458727, 21, 1, -524263, 21, 1, -393190, 21, 1, -458734, 21, 4, -458735, 21, 4, -524272, 21, 4, -524271, 21, 4, -524270, 21, 4, -524269, 21, 4, -589810, 21, 1, -589809, 21, 1, -917503, 21, 1, -983039, 21, 1, -1048575, 21, 1, -1114111, 21, 1, -1179647, 21, 1, -1245183, 21, 1, -1507327, 21, 1, -1507326, 21, 1, -1507321, 21, 1, -1507320, 21, 1, -1507316, 21, 1, -1507315, 21, 1, -1507314, 21, 1, -1441778, 21, 1, -1376242, 21, 1, -1310706, 21, 1, -1245170, 21, 1, -1179634, 21, 1, -1114098, 21, 1, -1048562, 21, 1, -983026, 21, 1, -917490, 21, 1, -851954, 21, 1, -786418, 21, 1, -1441791, 21, 1, -1376255, 21, 1, -1310719, 21, 1, -851967, 21, 1, -786431, 21, 1, -1572863, 21, 1, -1638399, 21, 1, -1703935, 21, 1, -1769471, 21, 1, -1835007, 21, 1, -1900543, 21, 1, -1966079, 21, 1, -2031615, 21, 1, -2097151, 21, 1, -2162687, 21, 1, -2228223, 21, 1, -2293746, 21, 1, -2228210, 21, 1, -2162674, 21, 1, -2097138, 21, 1, -2031602, 21, 1, -1966066, 21, 1, -1900530, 21, 1, -1834994, 21, 1, -1638386, 21, 1, -1572850, 21, 1, -1703922, 21, 1, -1769458, 21, 1, -2359295, 21, 1, -2424831, 21, 1, -2490367, 21, 1, -2555903, 21, 1, -2621439, 21, 1, -2686975, 21, 1, -2752511, 21, 1, -2818047, 21, 1, -2883583, 21, 1, -2949119, 21, 1, -3014655, 21, 1, -3080191, 21, 1, -3080190, 21, 1, -3080189, 21, 1, -3080185, 21, 1, -3080184, 21, 1, -3080183, 21, 1, -3080182, 21, 1, -3080181, 21, 1, -3080180, 21, 1, -3080179, 21, 1, -3080178, 21, 1, -3014642, 21, 1, -2949106, 21, 1, -2883570, 21, 1, -2818034, 21, 1, -2752498, 21, 1, -2686962, 21, 1, -2621426, 21, 1, -2555890, 21, 1, -2490354, 21, 1, -2424818, 21, 1, -2359282, 21, 1, -2293759, 21, 1, -3145727, 21, 1, -3211263, 21, 1, -3276799, 21, 1, -3342335, 21, 1, -3407871, 21, 1, -3473407, 21, 1, -3538943, 21, 1, -3604479, 21, 1, -3670015, 21, 1, -3735551, 21, 1, -3801087, 21, 1, -3866623, 21, 1, -3866622, 21, 1, -3866621, 21, 1, -3866620, 21, 1, -3866619, 21, 1, -3866618, 21, 1, -3866617, 21, 1, -3866616, 21, 1, -3866615, 21, 1, -3866612, 21, 1, -3866611, 21, 1, -3866610, 21, 1, -3801074, 21, 1, -3735538, 21, 1, -3670002, 21, 1, -3604466, 21, 1, -3538930, 21, 1, -3473394, 21, 1, -3407858, 21, 1, -3342322, 21, 1, -3276786, 21, 1, -3211250, 21, 1, -3145714, 21, 1, -3932159, 21, 1, -3997695, 21, 1, -4063231, 21, 1, -4128767, 21, 1, -4194303, 21, 1, -4259839, 21, 1, -4325375, 21, 1, -4390911, 21, 1, -4456447, 21, 1, -4521983, 21, 1, -4587519, 21, 1, -4653055, 21, 1, -4653054, 21, 1, -4653053, 21, 1, -4653046, 21, 1, -4653045, 21, 1, -4653044, 21, 1, -4653043, 21, 1, -4653042, 21, 1, -4587506, 21, 1, -4521970, 21, 1, -4456434, 21, 1, -4390898, 21, 1, -4325362, 21, 1, -4259826, 21, 1, -4194290, 21, 1, -4128754, 21, 1, -4063218, 21, 1, -3997682, 21, 1, -3932146, 21, 1, -4718591, 21, 1, -4784127, 21, 1, -4849663, 21, 1, -4915199, 21, 1, -4980735, 21, 1, -5046271, 21, 1, -5111807, 21, 1, -5177343, 21, 1, -5242879, 21, 1, -5308415, 21, 1, -5373951, 21, 1, -5439487, 21, 1, -5439486, 21, 1, -5439485, 21, 1, -5439484, 21, 1, -5439483, 21, 1, -5439482, 21, 1, -5439481, 21, 1, -5439480, 21, 1, -5439479, 21, 1, -5439478, 21, 1, -5439477, 21, 1, -5439476, 21, 1, -5439475, 21, 1, -5439474, 21, 1, -5373938, 21, 1, -5308402, 21, 1, -5242866, 21, 1, -5177330, 21, 1, -5111794, 21, 1, -5046258, 21, 1, -4980722, 21, 1, -4915186, 21, 1, -4849650, 21, 1, -4784114, 21, 1, -4718578, 21, 1)

[node name="Characters" type="Node2D" parent="."]

[node name="Character" parent="Characters" instance=ExtResource("10_0hm60")]
position = Vector2(625, 0)
speech = Array[String](["hi!", "nice to bump into you", "i'm just taking a dip", "you should try it!", "have a nice day!", ""])

[editable path="Characters/Character"]
