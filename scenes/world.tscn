[gd_scene load_steps=15 format=3 uid="uid://dwp4xp6fgrla0"]

[ext_resource type="Script" path="res://scripts/world_manager.gd" id="1_tjtmo"]
[ext_resource type="PackedScene" uid="uid://c314281f0wowu" path="res://prefabs/player.tscn" id="2_magrm"]
[ext_resource type="FontFile" uid="uid://dhwcw70aob8o5" path="res://fonts/Sono-Regular.ttf" id="3_v7ytu"]
[ext_resource type="FontFile" uid="uid://dp45wfma7rscj" path="res://fonts/Sniglet-Regular.otf" id="4_n5c6u"]
[ext_resource type="Texture2D" uid="uid://cxtm5nqci11n8" path="res://sprites/sling.png" id="5_c3xt1"]
[ext_resource type="Texture2D" uid="uid://cqrpj57oxyhfp" path="res://sprites/cursor.png" id="6_vv3nu"]
[ext_resource type="Script" path="res://scripts/cursor.gd" id="7_q6d0q"]
[ext_resource type="TileSet" uid="uid://byem6n45ujbeq" path="res://tile_sets/small_tile_set.tres" id="7_rs5cf"]
[ext_resource type="PackedScene" uid="uid://qv5r25xyy3uo" path="res://prefabs/character.tscn" id="10_0hm60"]
[ext_resource type="PackedScene" uid="uid://68ha7v5q7u3" path="res://prefabs/goal.tscn" id="10_14mfh"]

[sub_resource type="LabelSettings" id="LabelSettings_axvns"]
line_spacing = -10.0
font = ExtResource("4_n5c6u")
font_size = 50
font_color = Color(0, 0, 0, 1)

[sub_resource type="GDScript" id="GDScript_10ftn"]
script/source = "extends Label

var current_timer = 0.0

func _process(delta):
	current_timer += delta
	
"

[sub_resource type="LabelSettings" id="LabelSettings_w40pf"]
font = ExtResource("3_v7ytu")
font_size = 40
font_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_qdiot"]
font = ExtResource("3_v7ytu")
font_size = 40
font_color = Color(0, 0, 0, 1)

[node name="World" type="Node2D" node_paths=PackedStringArray("timer_label", "level_label", "score_label", "bumps_label", "spawn", "goals", "camera")]
script = ExtResource("1_tjtmo")
timer_label = NodePath("Camera2D/ColorRect/MarginContainer/Timer")
level_label = NodePath("Camera2D/ColorRect/MarginContainer/Level")
score_label = NodePath("Camera2D/ColorRect/Score")
bumps_label = NodePath("Camera2D/ColorRect/MarginContainer/Bumps")
spawn = NodePath("Spawn")
goals = [NodePath("Goal")]
player_prefab = ExtResource("2_magrm")
camera = NodePath("Camera2D")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
show_behind_parent = true
z_index = -100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 800.0
offset_bottom = 800.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Score" type="Label" parent="Camera2D/ColorRect"]
modulate = Color(1, 1, 1, 0.509804)
layout_mode = 2
offset_left = 25.0
offset_top = 174.0
offset_right = 775.0
offset_bottom = 290.0
grow_horizontal = 2
grow_vertical = 2
size_flags_vertical = 0
text = "score = time + bumps
how low can you go?"
label_settings = SubResource("LabelSettings_axvns")
horizontal_alignment = 1
script = SubResource("GDScript_10ftn")

[node name="MarginContainer" type="MarginContainer" parent="Camera2D/ColorRect"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="Level" type="Label" parent="Camera2D/ColorRect/MarginContainer"]
modulate = Color(1, 1, 1, 0.270588)
layout_mode = 2
size_flags_vertical = 0
text = "0
"
label_settings = SubResource("LabelSettings_w40pf")
horizontal_alignment = 1
script = SubResource("GDScript_10ftn")

[node name="Bumps" type="Label" parent="Camera2D/ColorRect/MarginContainer"]
modulate = Color(1, 1, 1, 0.270588)
layout_mode = 2
size_flags_vertical = 0
text = "0
"
label_settings = SubResource("LabelSettings_qdiot")
script = SubResource("GDScript_10ftn")

[node name="Timer" type="Label" parent="Camera2D/ColorRect/MarginContainer"]
modulate = Color(1, 1, 1, 0.270588)
layout_mode = 2
size_flags_vertical = 0
text = "0.00"
label_settings = SubResource("LabelSettings_w40pf")
horizontal_alignment = 2
script = SubResource("GDScript_10ftn")

[node name="Sling" type="Sprite2D" parent="."]
z_index = -1
texture = ExtResource("5_c3xt1")

[node name="Cursor" type="Sprite2D" parent="." node_paths=PackedStringArray("camera", "sling")]
z_index = 2
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_vv3nu")
script = ExtResource("7_q6d0q")
camera = NodePath("../Camera2D")
sling = NodePath("../Sling")

[node name="Spawn" type="Node2D" parent="."]
position = Vector2(552, 190)

[node name="Goal" parent="." instance=ExtResource("10_14mfh")]
position = Vector2(1167, -293)
rotation = -0.700318

[node name="TileMap" type="TileMap" parent="."]
z_index = -1
tile_set = ExtResource("7_rs5cf")
format = 2
layer_0/tile_data = PackedInt32Array(589824, 131093, 0, 589826, 21, 1, 589827, 65557, 1, 589830, 21, 1, 589831, 65557, 1, 524288, 131093, 0, 458752, 131093, 0, 851968, 131093, 0, 786432, 131093, 0, 720896, 131093, 0, 655360, 131093, 0, 655361, 21, 65540, 655362, 21, 65540, 655363, 21, 65540, 655364, 21, 65540, 655365, 21, 65540, 655366, 21, 65540, 655367, 21, 65540, 655368, 21, 65540, 720904, 21, 65540, 720905, 21, 65540, 786441, 21, 65540, 786440, 21, 65540, 786439, 21, 65540, 786438, 21, 65540, 851973, 21, 65540, 851972, 21, 65540, 851971, 21, 65540, 851970, 21, 65540, 851969, 21, 65540, 786433, 21, 65540, 786434, 21, 65540, 786435, 21, 65540, 786436, 21, 65540, 786437, 21, 65540, 720902, 21, 65540, 720901, 21, 65540, 720900, 21, 65540, 720899, 21, 65540, 720898, 21, 65540, 720897, 21, 65540, 720903, 21, 65540, 851974, 21, 65540, 851975, 21, 65540, 851976, 21, 65540, 851977, 21, 65540, 851978, 21, 65540, 851979, 21, 65540, 851980, 21, 65540, 786444, 21, 65540, 720908, 21, 65540, 655372, 21, 65540, 655370, 21, 65540, 655369, 21, 65540, 786442, 21, 65540, 786443, 21, 65540, 720907, 21, 65540, 655371, 21, 65540, 720906, 21, 65540, 458767, 131093, 0, 524303, 131093, 0, 655373, 21, 65540, 720909, 21, 65540, 786446, 21, 65540, 851982, 21, 65540, 786447, 131093, 0, 720911, 131093, 0, 655375, 131093, 0, 589839, 131093, 0, 655374, 21, 65540, 786445, 21, 65540, 917518, 21, 65540, 720910, 21, 65540, 851981, 21, 65540, 917517, 21, 65540, 917519, 131093, 0, 917504, 131093, 0, 983040, 131093, 0, 983041, 131093, 0, 983042, 131093, 0, 917506, 21, 65540, 917505, 21, 65540, 983043, 131093, 0, 983044, 131093, 0, 917508, 21, 65540, 917509, 21, 65540, 917510, 21, 65540, 917511, 21, 65540, 917512, 21, 65540, 917513, 21, 65540, 983049, 131093, 0, 983048, 131093, 0, 983047, 131093, 0, 983046, 131093, 0, 983045, 131093, 0, 917507, 21, 65540, 917514, 21, 65540, 917515, 21, 65540, 917516, 21, 65540, 983052, 131093, 0, 983053, 131093, 0, 983051, 131093, 0, 983050, 131093, 0, 983054, 131093, 0, 983055, 131093, 0, 393216, 131093, 0, 327680, 131093, 0, 262144, 131093, 0, 196608, 131093, 0, 131072, 131093, 0, 131087, 131093, 0, 196623, 131093, 0, 262159, 131093, 0, 327695, 131093, 0, 393231, 131093, 0, 131073, 131093, 0, 131074, 131093, 0, 131086, 131093, 0, 131085, 131093, 0, 5, 131093, 0, 10, 131093, 0, -65531, 131093, 0, -131067, 131093, 0, -196603, 131093, 0, -262139, 131093, 0, -65526, 131093, 0, -131062, 131093, 0, -196598, 131093, 0, -262134, 131093, 0, -262133, 131093, 0, -262132, 131093, 0, -262131, 131093, 0, -327667, 131093, 0, -393203, 131093, 0, -458739, 131093, 0, -524275, 131093, 0, -524276, 131093, 0, -524277, 131093, 0, -524283, 131093, 0, -524284, 131093, 0, -458749, 131093, 0, -393213, 131093, 0, -327677, 131093, 0, -262141, 131093, 0, -262140, 131093, 0, -524285, 131093, 0, -589819, 131093, 0, -655355, 131093, 0, -720891, 131093, 0, -720890, 131093, 0, -720889, 131093, 0, -720888, 131093, 0, -720887, 131093, 0, -720886, 131093, 0, -720885, 131093, 0, -786420, 131093, 0, -786419, 131093, 0, -786418, 131093, 0, -786417, 131093, 0, -786416, 131093, 0, -720876, 131093, 0, -720875, 131093, 0, -720874, 131093, 0, -720873, 131093, 0, -720871, 131093, 0, -720870, 131093, 0, -720869, 131093, 0, -720868, 131093, 0, -655332, 131093, 0, -655331, 131093, 0, -589795, 131093, 0, -524259, 131093, 0, -458723, 131093, 0, -393188, 131093, 0, -393189, 131093, 0, -327653, 131093, 0, -327654, 131093, 0, -327655, 131093, 0, -327656, 131093, 0, -262122, 131093, 0, -262123, 131093, 0, -262124, 131093, 0, -262125, 131093, 0, -327662, 131093, 0, -327663, 131093, 0, -393199, 131093, 0, -393200, 131093, 0, -458736, 131093, 0, -458737, 131093, 0, -524273, 131093, 0, -524274, 131093, 0, 458755, 65557, 1, 524291, 21, 1, 524294, 21, 1, 131075, 131093, 0, 131076, 131093, 0, 131077, 131093, 0, 65541, 131093, 0, 65546, 131093, 0, 131082, 131093, 0, 131083, 131093, 0, 131084, 131093, 0, -786414, 131093, 0, -786413, 131093, 0, -786412, 131093, 0, -786421, 131093, 0, -720872, 131093, 0, -262121, 131093, 0, -262120, 131093, 0, 786448, 131093, 0, 786449, 131093, 0, 786450, 131093, 0, 786451, 131093, 0, 786452, 131093, 0, 786453, 131093, 0, 720917, 131093, 0, 720918, 131093, 0, 655382, 131093, 0, 589846, 131093, 0, 589847, 131093, 0, 524311, 131093, 0, 524312, 131093, 0, 458776, 131093, 0, 458777, 131093, 0, 393241, 131093, 0, 393242, 131093, 0, 327706, 131093, 0, 327707, 131093, 0, 262171, 131093, 0, 196635, 131093, 0, 196636, 131093, 0, 131100, 131093, 0, 65564, 131093, 0, 65565, 131093, 0, 29, 131093, 0, 30, 131093, 0, 31, 131093, 0, -65505, 131093, 0, -65504, 131093, 0, -131040, 131093, 0, -131039, 131093, 0, -196575, 131093, 0, -196574, 131093, 0, -262110, 131093, 0, -327646, 131093, 0, -393181, 131093, 0, -458717, 131093, 0, -524253, 131093, 0, -589789, 131093, 0, -655325, 131093, 0, -655326, 131093, 0, -720862, 131093, 0, -786398, 131093, 0, -786399, 131093, 0, -851935, 131093, 0, -851936, 131093, 0, -917472, 131093, 0, -917473, 131093, 0, -917474, 131093, 0, -983010, 131093, 0, -983011, 131093, 0, -983012, 131093, 0, -1048548, 131093, 0, -1048549, 131093, 0, -1048550, 131093, 0, -1048551, 131093, 0, -1048552, 131093, 0, -1048553, 131093, 0, -1048554, 131093, 0, -1048555, 131093, 0, -1048556, 131093, 0, -1048557, 131093, 0, -983021, 131093, 0, -983022, 131093, 0, -917486, 131093, 0, -851950, 131093, 0, -851954, 131093, 0, -917490, 131093, 0, -983026, 131093, 0, -1048562, 131093, 0, -1114098, 131093, 0, -1179634, 131093, 0, -1179633, 131093, 0, -1245169, 131093, 0, -1245168, 131093, 0, -1310703, 131093, 0, -1310702, 131093, 0, -1310701, 131093, 0, -1310700, 131093, 0, -1310699, 131093, 0, -1310698, 131093, 0, -1310697, 131093, 0, -1376233, 131093, 0, -1376232, 131093, 0, -1376231, 131093, 0, -1376230, 131093, 0, -1376229, 131093, 0, -1310692, 131093, 0, -1310691, 131093, 0, -1310690, 131093, 0, -1310689, 131093, 0, -1310688, 131093, 0, -1310687, 131093, 0, -1245151, 131093, 0, -1245150, 131093, 0, -1245149, 131093, 0, -1245148, 131093, 0, -1179612, 131093, 0, -1179611, 131093, 0, -1179610, 131093, 0, -1114074, 131093, 0, -1114073, 131093, 0, -1048537, 131093, 0, -1048536, 131093, 0, -982999, 131093, 0, -917463, 131093, 0, -851926, 131093, 0, -786390, 131093, 0, -786389, 131093, 0, -720853, 131093, 0, -655317, 131093, 0, -589781, 131093, 0, -524245, 131093, 0, -524244, 131093, 0, -458708, 131093, 0, -393172, 131093, 0, -327636, 131093, 0, -262100, 131093, 0, -196564, 131093, 0, -131028, 131093, 0, -131029, 131093, 0, -65493, 131093, 0, 43, 131093, 0, 65579, 131093, 0, 131115, 131093, 0, 131114, 131093, 0, 196650, 131093, 0, 262186, 131093, 0, 262185, 131093, 0, 327721, 131093, 0, 393256, 131093, 0, 458792, 131093, 0, 458791, 131093, 0, 524327, 131093, 0, 524326, 131093, 0, 589862, 131093, 0, 655397, 131093, 0, 720932, 131093, 0, 720931, 131093, 0, 786467, 131093, 0, 786466, 131093, 0, 852002, 131093, 0, 852001, 131093, 0, 917536, 131093, 0, 917535, 131093, 0, 917534, 131093, 0, 983070, 131093, 0, 983069, 131093, 0, 983068, 131093, 0, 983067, 131093, 0, 983057, 131093, 0, 983056, 131093, 0, 983058, 131093, 0, 983059, 131093, 0, 983060, 131093, 0, 983061, 131093, 0, 983062, 131093, 0, 983063, 131093, 0, 983064, 131093, 0, 983065, 131093, 0, 983066, 131093, 0)

[node name="Characters" type="Node2D" parent="."]

[node name="Character" parent="Characters" instance=ExtResource("10_0hm60")]
position = Vector2(536, -247)
speech = Array[String](["hey there", "take a dip", "bye", ""])
