[gd_scene load_steps=14 format=3 uid="uid://dwp4xp6fgrla0"]

[ext_resource type="Script" path="res://scripts/world_manager.gd" id="1_tjtmo"]
[ext_resource type="PackedScene" uid="uid://c314281f0wowu" path="res://prefabs/player.tscn" id="2_magrm"]
[ext_resource type="FontFile" uid="uid://dp45wfma7rscj" path="res://fonts/Sniglet-Regular.otf" id="4_n5c6u"]
[ext_resource type="LabelSettings" uid="uid://gcqywswqaqad" path="res://label_settings/info_label_settings.tres" id="4_ut8sv"]
[ext_resource type="Texture2D" uid="uid://cxtm5nqci11n8" path="res://sprites/sling.png" id="5_c3xt1"]
[ext_resource type="Texture2D" uid="uid://bwgcgismfohc2" path="res://sprites/sun-head-bump.png" id="5_u8lhi"]
[ext_resource type="Texture2D" uid="uid://cqrpj57oxyhfp" path="res://sprites/cursor.png" id="6_vv3nu"]
[ext_resource type="Script" path="res://scripts/cursor.gd" id="7_q6d0q"]
[ext_resource type="TileSet" uid="uid://byem6n45ujbeq" path="res://tile_sets/small_tile_set.tres" id="7_rs5cf"]
[ext_resource type="PackedScene" uid="uid://qv5r25xyy3uo" path="res://prefabs/character.tscn" id="10_0hm60"]
[ext_resource type="PackedScene" uid="uid://68ha7v5q7u3" path="res://prefabs/goal.tscn" id="10_14mfh"]

[sub_resource type="LabelSettings" id="LabelSettings_axvns"]
line_spacing = -10.0
font = ExtResource("4_n5c6u")
font_size = 50
font_color = Color(0, 0, 0, 1)

[sub_resource type="GDScript" id="GDScript_10ftn"]
script/source = "extends Label

var current_timer = 0.0

func _process(delta):
	current_timer += delta
	
"

[node name="World" type="Node2D" node_paths=PackedStringArray("timer_label", "score_label", "bumps_label", "spawn", "goals", "camera", "overlay")]
script = ExtResource("1_tjtmo")
timer_label = NodePath("Camera2D/Overlay/TopInfoMargins/Timer")
score_label = NodePath("Camera2D/Overlay/Score")
bumps_label = NodePath("Camera2D/Overlay/TopInfoMargins/BumpsDummy/BumpIcon/Bumps")
spawn = NodePath("Spawn")
goals = [NodePath("Goal")]
player_prefab = ExtResource("2_magrm")
camera = NodePath("Camera2D")
overlay = NodePath("Camera2D/Overlay")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="Overlay" type="ColorRect" parent="Camera2D"]
show_behind_parent = true
z_index = -100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 800.0
offset_bottom = 800.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Score" type="Label" parent="Camera2D/Overlay"]
modulate = Color(1, 1, 1, 0.509804)
layout_mode = 2
offset_left = 25.0
offset_top = 174.0
offset_right = 775.0
offset_bottom = 290.0
grow_horizontal = 2
grow_vertical = 2
size_flags_vertical = 0
text = "score = time + bumps
how low can you go?"
label_settings = SubResource("LabelSettings_axvns")
horizontal_alignment = 1
script = SubResource("GDScript_10ftn")

[node name="TopInfoMargins" type="MarginContainer" parent="Camera2D/Overlay"]
z_index = 2
z_as_relative = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="BumpsDummy" type="Label" parent="Camera2D/Overlay/TopInfoMargins"]
layout_mode = 2
size_flags_vertical = 0
text = "
"
label_settings = ExtResource("4_ut8sv")
script = SubResource("GDScript_10ftn")

[node name="BumpIcon" type="TextureRect" parent="Camera2D/Overlay/TopInfoMargins/BumpsDummy"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -25.0
offset_right = 50.0
offset_bottom = 25.0
grow_vertical = 2
texture = ExtResource("5_u8lhi")
expand_mode = 1

[node name="Bumps" type="Label" parent="Camera2D/Overlay/TopInfoMargins/BumpsDummy/BumpIcon"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 50.0
offset_top = -30.5
offset_right = 800.0
offset_bottom = 30.5
grow_vertical = 2
size_flags_vertical = 0
text = "0
"
label_settings = ExtResource("4_ut8sv")
script = SubResource("GDScript_10ftn")

[node name="Timer" type="Label" parent="Camera2D/Overlay/TopInfoMargins"]
layout_mode = 2
size_flags_vertical = 0
text = "0.00"
label_settings = ExtResource("4_ut8sv")
horizontal_alignment = 2
script = SubResource("GDScript_10ftn")

[node name="MarginTop" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 100.0
grow_horizontal = 2
color = Color(0, 0, 0, 1)

[node name="MarginLeft" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 100.0
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="MarginRight" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -100.0
grow_horizontal = 0
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="MarginBottom" type="ColorRect" parent="Camera2D/Overlay"]
z_index = 1
z_as_relative = false
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -100.0
grow_horizontal = 2
grow_vertical = 0
color = Color(0, 0, 0, 1)

[node name="Sling" type="Sprite2D" parent="."]
z_index = -1
texture = ExtResource("5_c3xt1")

[node name="Cursor" type="Sprite2D" parent="." node_paths=PackedStringArray("camera", "sling")]
z_index = 2
scale = Vector2(0.35, 0.35)
texture = ExtResource("6_vv3nu")
script = ExtResource("7_q6d0q")
camera = NodePath("../Camera2D")
sling = NodePath("../Sling")

[node name="Spawn" type="Node2D" parent="."]
position = Vector2(575, 375)

[node name="Goal" parent="." instance=ExtResource("10_14mfh")]
position = Vector2(650, -275)
rotation = -1.57004
scale = Vector2(0.5, 0.5)

[node name="TileMap" type="TileMap" parent="."]
z_index = -1
tile_set = ExtResource("7_rs5cf")
format = 2
layer_0/tile_data = PackedInt32Array(589831, 65557, 1, 655361, 65557, 1, 655362, 21, 65540, 655363, 21, 65540, 655364, 21, 65540, 655365, 21, 65540, 655366, 21, 65540, 655367, 21, 65540, 655368, 21, 65540, 720904, 21, 65540, 720905, 21, 65540, 786441, 21, 65540, 786440, 21, 65540, 786439, 21, 65540, 786438, 21, 65540, 851973, 21, 65540, 851972, 21, 65540, 851971, 21, 65540, 851970, 21, 65540, 851969, 65557, 1, 786433, 21, 1, 786434, 21, 65540, 786435, 21, 65540, 786436, 21, 65540, 786437, 21, 65540, 720902, 21, 65540, 720901, 21, 65540, 720900, 21, 65540, 720899, 21, 65540, 720898, 21, 65540, 720897, 65557, 1, 720903, 21, 65540, 851974, 21, 65540, 851975, 21, 65540, 851976, 21, 65540, 851977, 21, 65540, 851978, 21, 65540, 851979, 21, 65540, 851980, 21, 65540, 786444, 21, 65540, 720908, 21, 65540, 655372, 21, 4, 655370, 21, 65540, 655369, 21, 65540, 786442, 21, 65540, 786443, 21, 65540, 720907, 21, 65540, 655371, 21, 65540, 720906, 21, 65540, 458767, 131093, 0, 524303, 131093, 0, 655373, 21, 65540, 720909, 21, 65540, 786447, 131093, 0, 720911, 131093, 0, 655375, 131093, 0, 589839, 131093, 0, 655374, 65557, 1, 786445, 21, 65540, 851981, 21, 65540, 917506, 65557, 1, 917505, 65557, 1, 917508, 21, 1, 917509, 21, 1, 917510, 21, 1, 917511, 65557, 1, 917512, 65557, 1, 917513, 65557, 1, 917507, 65557, 1, 917514, 21, 1, 131087, 131093, 0, 196623, 131093, 0, 262159, 131093, 0, 327695, 131093, 0, 393231, 131093, 0, 131086, 21, 1, -786420, 131093, 0, -786419, 131093, 0, -786418, 131093, 0, -786417, 131093, 0, -786416, 131093, 0, -720876, 131093, 0, -720875, 131093, 0, -720874, 131093, 0, -720873, 131093, 0, -720871, 131093, 0, -720870, 131093, 0, -720869, 131093, 0, -720868, 131093, 0, -655332, 131093, 0, -655331, 131093, 0, -589795, 131093, 0, -524259, 131093, 0, -458723, 131093, 0, -393188, 131093, 0, -393189, 131093, 0, -327653, 131093, 0, -327654, 131093, 0, -327655, 131093, 0, -327656, 131093, 0, -262122, 131093, 0, -262123, 131093, 0, -262124, 131093, 0, -262125, 131093, 0, -327662, 131093, 0, -327663, 131093, 0, -393199, 131093, 0, -393200, 131093, 0, -458736, 131093, 0, -458737, 131093, 0, -524273, 131093, 0, -524274, 65557, 1, 65541, 65557, 1, 65546, 21, 1, -786414, 131093, 0, -786413, 131093, 0, -786412, 131093, 0, -786421, 131093, 0, -720872, 131093, 0, -262121, 131093, 0, -262120, 131093, 0, 786448, 131093, 0, 786449, 131093, 0, 786450, 131093, 0, 786451, 131093, 0, 786452, 131093, 0, 786453, 131093, 0, 720917, 131093, 0, 720918, 131093, 0, 655382, 131093, 0, 589846, 131093, 0, 589847, 131093, 0, 524311, 131093, 0, 524312, 131093, 0, 458776, 131093, 0, 458777, 131093, 0, 393241, 131093, 0, 393242, 131093, 0, 327706, 131093, 0, 327707, 131093, 0, 262171, 131093, 0, 196635, 131093, 0, 196636, 131093, 0, 131100, 131093, 0, 65564, 131093, 0, 65565, 131093, 0, 29, 131093, 0, 30, 131093, 0, 31, 131093, 0, -65505, 131093, 0, -65504, 131093, 0, -131040, 131093, 0, -131039, 131093, 0, -196575, 131093, 0, -196574, 131093, 0, -262110, 131093, 0, -327646, 131093, 0, -393181, 131093, 0, -458717, 131093, 0, -524253, 131093, 0, -589789, 131093, 0, -655325, 131093, 0, -655326, 131093, 0, -720862, 131093, 0, -786398, 131093, 0, -786399, 131093, 0, -851935, 131093, 0, -851936, 131093, 0, -917472, 131093, 0, -917473, 131093, 0, -917474, 131093, 0, -983010, 131093, 0, -983011, 131093, 0, -983012, 131093, 0, -1048548, 131093, 0, -1048549, 131093, 0, -1048550, 131093, 0, -1048551, 131093, 0, -1048552, 131093, 0, -1048553, 131093, 0, -1048554, 131093, 0, -1048555, 131093, 0, -1048556, 131093, 0, -1048557, 131093, 0, -983021, 131093, 0, -983022, 131093, 0, -917486, 131093, 0, -851950, 131093, 0, -851954, 131093, 0, -917490, 131093, 0, -983026, 131093, 0, -1048562, 131093, 0, -1114098, 131093, 0, -1179634, 131093, 0, -1179633, 131093, 0, -1245169, 131093, 0, -1245168, 131093, 0, -1310703, 131093, 0, -1310702, 131093, 0, -1310701, 131093, 0, -1310700, 131093, 0, -1310699, 131093, 0, -1310698, 131093, 0, -1310697, 131093, 0, -1376233, 131093, 0, -1376232, 131093, 0, -1376231, 131093, 0, -1376230, 131093, 0, -1376229, 131093, 0, -1310692, 131093, 0, -1310691, 131093, 0, -1310690, 131093, 0, -1310689, 131093, 0, -1310688, 131093, 0, -1310687, 131093, 0, -1245151, 131093, 0, -1245150, 131093, 0, -1245149, 131093, 0, -1245148, 131093, 0, -1179612, 131093, 0, -1179611, 131093, 0, -1179610, 131093, 0, -1114074, 131093, 0, -1114073, 131093, 0, -1048537, 131093, 0, -1048536, 131093, 0, -982999, 131093, 0, -917463, 131093, 0, -851926, 131093, 0, -786390, 131093, 0, -786389, 131093, 0, -720853, 131093, 0, -655317, 131093, 0, -589781, 131093, 0, -524245, 131093, 0, -524244, 131093, 0, -458708, 131093, 0, -393172, 131093, 0, -327636, 131093, 0, -262100, 131093, 0, -196564, 131093, 0, -131028, 131093, 0, -131029, 131093, 0, -65493, 131093, 0, 43, 131093, 0, 65579, 131093, 0, 131115, 131093, 0, 131114, 131093, 0, 196650, 131093, 0, 262186, 131093, 0, 262185, 131093, 0, 327721, 131093, 0, 393256, 131093, 0, 458792, 131093, 0, 458791, 131093, 0, 524327, 131093, 0, 524326, 131093, 0, 589862, 131093, 0, 655397, 131093, 0, 720932, 131093, 0, 720931, 131093, 0, 786467, 131093, 0, 786466, 131093, 0, 852002, 131093, 0, 852001, 131093, 0, 917536, 131093, 0, 917535, 131093, 0, 917534, 131093, 0, 983070, 131093, 0, 983069, 131093, 0, 983068, 131093, 0, 983067, 131093, 0, 983057, 131093, 0, 983056, 131093, 0, 983058, 131093, 0, 983059, 131093, 0, 983060, 131093, 0, 983061, 131093, 0, 983062, 131093, 0, 983063, 131093, 0, 983064, 131093, 0, 983065, 131093, 0, 983066, 131093, 0, 589825, 21, 1, 524289, 65557, 1, 458753, 65557, 1, 393217, 65557, 1, 327681, 21, 1, 262145, 65557, 1, 196609, 65557, 1, 131073, 65557, 1, 196622, 65557, 1, 262158, 21, 1, 327694, 21, 1, 393230, 65557, 1, 458766, 65557, 1, 524302, 65557, 1, 589838, 21, 1, 851982, 65557, 1, 917518, 65557, 1, 917517, 21, 1, 917516, 65557, 1, 917515, 65557, 1, 65538, 65557, 1, 65539, 65557, 1, 65540, 65557, 1, 65547, 65557, 1, 65548, 21, 1, 65549, 21, 1, 65550, 65557, 1, 589827, 21, 1, 589828, 65557, 1, 524292, 21, 1, 458756, 65557, 1, 524295, 21, 1, 589832, 21, 1, 65537, 65557, 1, 589835, 21, 1, 589836, 65557, 1, 458765, 65557, 1, 524301, 21, 1, 589837, 65557, 1, 131077, 65557, 1, 131082, 65557, 1, 5, 65557, 1, -65531, 65557, 1, 1, 65557, 1, -65535, 65557, 1, -131071, 65557, 1, 10, 65557, 1, 14, 65557, 1, -65522, 65557, 1, -131058, 65557, 1, -65534, 21, 4, -65533, 21, 4, -65532, 21, 4, 4, 21, 4, 3, 21, 4, 2, 21, 4, 11, 21, 4, 12, 21, 4, 13, 21, 4, -327674, 262165, 0, -458749, 262165, 0, -589813, 262165, 0, -196594, 65557, 1, -262130, 21, 1, -327666, 21, 1, -393202, 65557, 1, -458738, 65557, 1, -589810, 21, 1, -655346, 21, 1, -720882, 21, 1, -720883, 21, 1, -720884, 21, 1, -720885, 65557, 1, -720886, 65557, 1, -720887, 21, 1, -720888, 21, 1, -720889, 65557, 1, -720890, 21, 1, -720891, 21, 1, -720892, 21, 1, -720893, 65557, 1, -720894, 21, 1, -720895, 21, 1, -655359, 21, 1, -589823, 21, 1, -524287, 21, 1, -458751, 65557, 1, -393215, 65557, 1, -327679, 21, 1, -262143, 21, 1, -196607, 65557, 1)

[node name="Characters" type="Node2D" parent="."]

[node name="Character" parent="Characters" instance=ExtResource("10_0hm60")]
position = Vector2(625, 0)
speech = Array[String](["hi!", "nice to bump into you", "i'm just taking a dip", "you should try it!", "have a nice day!", ""])

[node name="Label" parent="Characters/Character" index="2"]
offset_left = -5.0
offset_top = -75.0
offset_right = 5.0
offset_bottom = -35.0
text = ""
autowrap_mode = 0

[editable path="Characters/Character"]
